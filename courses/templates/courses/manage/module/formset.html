{% load i18n %}
{% block content %}
{% if form.errors %}
    {% for field in form %}
        {% for error in field.errors %}
            <div class="alert alert-danger">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
        <div class="alert alert-danger">
            <strong>{{ error|escape }}</strong>
        </div>
    {% endfor %}
{% endif %}
        <h4 class="bg-light w-100" >{% trans "Edit / Add  Course modules for " %} "{{ course.title }}"</h4>
        <div><br></div>
        <form action="{% url 'course_module_update' course.pk %}" method="post" id="edit_modules" class='w-100'>
              <div class="container">
                  {% for form in formset %}
                  <div class="row bg-light">
                      <div class="col">
                        <div class="row">
                            <div class="col-md-2 col-6">
                                {{ form.title.label_tag}}
                            </div>
                            <div class="col-md-8 col-6">
                                {{ form.title}}
                            </div>
                            <div class="col-md-1 col-6">
                                {{ form.duration.label_tag}}
                            </div>
                            <div class="col-md-1 col-6">
                                {{ form.duration}}
                            </div>
                        </div> 
                        <div class="row">
                            <div class="col-md-2 col-3">
                                {{ form.description.label_tag}}
                            </div>
                            <div class="col-md-9 col-9">
                                {{ form.description}}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-8"></div>
                            <div class="col-md-1 col-6 p-1">
                                {{ form.DELETE.label_tag}}
                            </div>
                            <div class="col-md-1 col-6 p-1">
                                {{ form.DELETE}}
                            </div>

                            <div class="col-md-2 col-6 p-1">
                                {{form.course}}
                                {{form.id}}
                                
                                {% if form.id %}
                                    <a href="#" id="{{forloop.counter0}}" onClick=load_content(event)> {% trans "Content" %}</a>    
                                {% endif %}
                                    
                                
                            </div>
                        </div>      
                        </div>
                    </div>   
                    <div class="row">
                        <div class="col">
                            <br>
                        </div>
                    </div>        
                  {% endfor %}

              </div>
              <div class="container" id="add_module"></div>
              {{ formset.management_form }}
              {% csrf_token %}
              <div class="row">
                  <div class="col-md-8 col-0"></div>
                  <div class="col-md-2 col-6"><input type="button" id="btn_add_module" class="btn btn-primary" value="{% trans "Add more" %}"></div>
                  <div class="col-md-2 col-6"><input type="submit" class="btn btn-primary" value="{% trans "Save modules" %}"></div>
              </div>
        </form>

{% endblock content %}